<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Brainch Module: common/editor/model</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.united.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Brainch</a>
	</div>
	<div class="navbar-collapse">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-backend_editor_block.html">backend/editor/block</a></li><li><a href="module-common_editor_block.html">common/editor/block</a></li><li><a href="module-common_editor_model.html">common/editor/model</a></li>
				</ul>
			</li>
			
		</ul>
	</div>
</div>
</div>


<div class="container">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
    		<h1 class="page-title">Module: common/editor/model</h1>
			

	<h1 class="page-title">Module: common/editor/model</h1>
<section>

<header>
    
        
            
        
    
</header>


<article>
    <div class="container-overview">
    
        

        
            
<dt>
    <h4 class="name" id="module:common/editor/model"><span class="type-signature"></span>(require("common/editor/model"))<span class="signature">(dom)</span><span class="type-signature"> &rarr; {model}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Model represent document and working with it
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>dom</code></td>
            

            <td class="type">
            
                
<span class="param-type">Node</span>


            
            </td>

            

            

            <td class="description last">Node in DOM where model applied</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Model object
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">model</span>


	</dd>
</dl>


        
    
    
</dd>

        
    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt class="name" id="~blocks">
    <h4><span class="type-signature">&lt;inner> </span>blocks<span class="type-signature"> :Array.&lt;block></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        Array of blocks
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array.&lt;block></span>


            </li>
        </ul>
    

    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="~first"><span class="type-signature">&lt;inner> </span>first<span class="signature">()</span><span class="type-signature"> &rarr; {block}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get first block in array
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Block object
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">block</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="~get"><span class="type-signature">&lt;inner> </span>get<span class="signature">(i)</span><span class="type-signature"> &rarr; {block}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get block by index
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>i</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Index of block</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Block object
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">block</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="~insert"><span class="type-signature">&lt;inner> </span>insert<span class="signature">(x, y)</span><span class="type-signature"> &rarr; {Object|undefined|block}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Insert text or block to model
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>x</code></td>
            

            <td class="type">
            
                
<span class="param-type">undefined</span>
|

<span class="param-type">Object</span>
|

<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">{undefined} When want to get manual choice of action<br>
                                      {Object}    Selection object when insert text<br>
                                      {Number}    Position (index) when insert block</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">undefined</span>
|

<span class="param-type">String</span>
|

<span class="param-type">block</span>


            
            </td>

            

            

            <td class="description last">{undefined} When want to get manual choice of action<br>
                                      {String}    Text when insert text<br>
                                      {block}     Block when insert block</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    {Object}    Actions when want to get manual choice of action<br>
                                      {undefined} When insert text<br>
                                      {block}     Inserted block when insert block
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Object</span>
|

<span class="param-type">undefined</span>
|

<span class="param-type">block</span>


	</dd>
</dl>


        
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">
// Insert text under selection
model.insert(selection_object, text);

// Insert block on index
model.insert(index, block);


// Get object with actions
var insert = model.insert();
var insert_text = insert.text;
var insert_block = insert.block;

insert_text(selection_object, text);
insert_block(index, block);

// Or compact
model.insert().text(selection_object, text);
model.insert().block(index, block);</pre>


    
</dd>

        
            
<dt>
    <h4 class="name" id="~last"><span class="type-signature">&lt;inner> </span>last<span class="signature">()</span><span class="type-signature"> &rarr; {block}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get last block in array
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Block object
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">block</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="~push"><span class="type-signature">&lt;inner> </span>push<span class="signature">(b)</span><span class="type-signature"> &rarr; {block}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Add block to tail of array
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>b</code></td>
            

            <td class="type">
            
                
<span class="param-type">block</span>


            
            </td>

            

            

            <td class="description last">Block for insert</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Pushed block
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">block</span>


	</dd>
</dl>


        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="~remove"><span class="type-signature">&lt;inner> </span>remove<span class="signature">(x, y)</span><span class="type-signature"> &rarr; {Array.&lt;block>|Object}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Remove text or block from model
    </div>
    

    

    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
	<tr>
		
		<th>Name</th>
		

		<th>Type</th>

		

		

		<th class="last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="name"><code>x</code></td>
            

            <td class="type">
            
                
<span class="param-type">undefined</span>
|

<span class="param-type">Number</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">{undefined} When want to get manual choice of action<br>
                                     {Number} When this is single arg this is index of block for remove<br>
                                     {Number} When has number in second arg this is 'from' idx in range
                                     for remove blocks<br>
                                     {Object} This is selection object for remove text</td>
        </tr>

	

        <tr>
            
                <td class="name"><code>y</code></td>
            

            <td class="type">
            
                
<span class="param-type">undefined</span>
|

<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">{undefined} When want to get manual choice of action<br>
                                     {Number} When first arg is number this is 'to' idx in range for remove
                                     blocks. Otherwise when first arg is selection object this is key code
                                     (backspace or delete) for remove text</td>
        </tr>

	
	</tbody>
</table>

    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    {Object} Actions when want to get manual choice of action<br>
                                     {block[]} When remove blocks this is array with removed items<br>
                                     {Object} When remove text this is object
                                     with information about new caret position
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Array.&lt;block></span>
|

<span class="param-type">Object</span>


	</dd>
</dl>


        
    
    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">
// Remove blocks from index (inclusive) to index (inclusive)
model.remove(from_idx, to_idx);

// Remove block by index
model.remove(index)

// Remove text under selection with key code (backspace or delete)
model.remove(selection_object, key_code)


// Get object with actions
var remove = model.remove();
var remove_blocks = remove.blocks;
var remove_block = remove.block;
var remove_text = remove.text;

remove_blocks(from_idx, to_idx);
remove_block(index);
remove_text(selection_object, key_code);

// Or compact
model.remove().blocks(from_idx, to_idx);
model.remove().block(index);
model.remove().text(selection_object, key_code);</pre>


    
</dd>

        
            
<dt>
    <h4 class="name" id="~size"><span class="type-signature">&lt;inner> </span>size<span class="signature">()</span><span class="type-signature"> &rarr; {Number}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Get number of blocks
    </div>
    

    

    
    
    
    
    
    
<dl class="details">
	

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>

    
    

    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    Number of blocks
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Number</span>


	</dd>
</dl>


        
    
    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3"></div>
		</div>
	

</div>
</div>


<footer>


	<span class="copyright">
	Brainch © 2015
	</span>
	<br />

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a>
	on 2015-07-31T13:21:58+03:00 using the <a
	href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
</span>
</footer>

<!--<script src="scripts/sunlight.js"></script>-->
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/bootstrap-dropdown.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "h1,h2,h3,h4",
		showAndHide : false,
		scrollTo    : "100px"
	} );

	$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();
	//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			lang = "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );
} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


</body>
</html>